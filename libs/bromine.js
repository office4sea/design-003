(()=>{var e={636:(e,t,s)=>{const{assign:r,def:o}=s(682);e.exports=e=>{const t={getText:e=>fetch(e).then((e=>e.text())),getJson:e=>fetch(e).then((e=>e.json())),postJson(e,t){const s=JSON.stringify(t||{});return fetch(e,{body:s,method:"POST"}).then((e=>e.json()))}},s={isLoading:!1,on(){},off(){}},n=e=>r(t,e);return r(n,{getText:e=>t.getText(e),getJson:(e,r)=>(s.on(s.isLoading),t.getJson(e,r).then((e=>(s.off(s.isLoading),e))).catch((e=>(s.off(s.isLoading),Promise.reject(e))))),postJson:(e,r)=>(s.on(s.isLoading),t.postJson(e,r).then((e=>(s.off(s.isLoading),e))).catch((e=>(s.off(s.isLoading),Promise.reject(e))))),all:e=>(n.progress(!0),Promise.all(e.map((({url:e,payload:t})=>n.getJson(e,t)))).then(((...e)=>(n.progress(!1),e))).catch((e=>(n.progress(!1),Promise.reject(e)))))}),o(n,{progress:{set(e={}){r(s,e)},get:()=>e=>(r(s,{isLoading:e}),e?s.on():s.off(),n)}})}},699:(e,t,s)=>{const{camelCase:r,def:o,assign:n,isObject:a,entries:i}=s(682),d=e=>{const t=l(e),s=p(e),{hasClass:g,addClass:m,removeClass:v}=u(e);return o(e,{vo:{get:()=>s}}),n(e,{hasClass:g,addClass:m,removeClass:v,setText:e=>a(e)&&i(e).forEach((([e,t,o=s[r(e)]])=>o&&n(o,{text:t}))),getText:e=>i(s).reduce(((e,[t,{text:s}])=>n(e,{[t]:s})),{}),setHtml:e=>a(e)&&i(e).forEach((([e,t,o=s[r(e)]])=>o&&n(o,{html:t}))),getHtml:e=>i(s).reduce(((e,[t,{html:s}])=>n(e,{[t]:s})),{}),setValue:e=>a(e)&&i(e).forEach((([e,t,o=s[r(e)]])=>o&&n(o,{value:t}))),getValue:e=>i(s).reduce(((e,[t,{value:s}])=>n(e,{[t]:s})),{}),getTemplate:e=>d(c(t[e]))})},c=(e,t=document.createElement("div"))=>n(t,{innerHTML:e}).firstChild,l=e=>[...e.querySelectorAll("[data-template]")].reduce(((e,t)=>n(e,g(t))),{}),g=e=>{const{dataset:{template:t},outerHTML:s}=e;return e.remove(),{[t]:s.replace(/[ ]?data-template="[^"]+"/,"")}},p=e=>[...e.querySelectorAll("[data-vo]")].reduce(((e,t)=>n(e,m(t))),{}),m=e=>{o(n(e,u(e)),{text:{get:()=>e.textContent,set(t){n(e,{textContent:t})}},html:{get:()=>e.innerHTML,set(t){n(e,{innerHTML:t})}}});const{dataset:{vo:t}}=e;return{[r(t)]:e}},u=(e,{classList:t}=e)=>({hasClass:e=>t.contains(e),addClass:(...e)=>e.forEach((e=>t.add(e))),removeClass:(...e)=>e.forEach((e=>t.remove(e))),event:(t,s)=>e.addEventListener(t,s)});e.exports=e=>{const t=e.logger("br.bind-html"),s=(e,o)=>{if(!e)return t.error("invalid param: id is required");const a=document.getElementById(e);if(!a)return t.error(`can not element '${e}'`);const i=r(e);if(s[i])return t.warn(`bindHtml '${i}' has already been declared`);const c=d(a);return n(s,{[i]:c}),requestAnimationFrame((e=>o&&o(c,c.vo))),c};return document.head.appendChild(document.createElement("style")).sheet.insertRule("[data-template] {display:none;}",0),s}},795:(e,t,s)=>{const{assign:r,clone:o}=s(682),n=(e,t=e)=>r({message:e,reason:t}),a={postMessage:void 0,receiveMessage:void 0,postEvent:void 0},i={seq:0,items:new Map,addTran(e,t=`${(new Date).getTime()}${this.seq++}`){return this.items.set(t,e),t},hasTran(e){return!!this.items.get(e)},rejectTran(e,t){const{reject:s}=this.items.get(e);s(t),this.items.delete(e)},resolveTran(e,t){const{resolve:s}=this.items.get(e);s(t),this.items.delete(e)}},d={items:new Map,getListeners(e){return this.items.get(e)},setListeners(e,t){this.items.set(e,t)}};e.exports=e=>{const t=e.logger("br.bridge"),s=e=>{if(!e)return t.error("invalid bridge name");var s;window[e]?r(a,(s=window[e],{postMessage:e=>s.postMessage(e)})):window[e]=r(a,window.webkit?(e=>{const{webkit:{messageHandlers:t}}=window;return{postMessage:e=>(t.postMessage||{}).postMessage(e)}})():(e=>{const t=e=>setTimeout((t=>a.receiveMessage(e)),500),s=e=>JSON.parse(localStorage.getItem(`[bridge-message=${e}]`)),o=e=>JSON.parse(localStorage.getItem(`[bridge-event=${e}]`));return{isMock:!0,postMessage:e=>{if(!e)return t(void 0);const o={},{head:a}=JSON.parse(e);if(!a)return o.error=n("message SyntaxError",{head:a}),t(void 0);r(o,s(a.type)),0==Object.keys(o).length&&(o.error=n(`'${a.type}' is undefined message type`)),t({head:a,body:o})},postEventStub:e=>{const t=o(e);a.postEvent({head:{type:e},body:t})},stubMessageWrite:(e,t)=>{if(!e)return;const s=t?JSON.parse(t):{data:null};localStorage.setItem(`[bridge-message=${e}]`,JSON.stringify(s))},stubMessageRead:s,stubEventWrite:(e,t)=>{if(!e)return;const s=t?JSON.parse(t):{data:null};localStorage.setItem(`[bridge-event=${e}]`,JSON.stringify(s))},stubEventRead:o}})()),r(a,c(e))},c=e=>({receiveMessage:window[`${e}_receiveMessage`]=e=>{if(!e)return t.error("message receive: invalid message",{message:e});const{head:s,body:r}=e;return s&&r?i.hasTran(s.trid)?void(r.error?i.rejectTran(s.trid,r.error):i.resolveTran(s.trid,r.data)):t.error("message receive: invalid transaction",{message:e}):t.error("message receive: invalid message",{message:e})},postEvent:window[`${e}_postEvent`]=e=>{if(!e)return t.error("event receive: invalid message",{message:e});const{head:s,body:r}=e;if(!s||!r)return t.error("event receive: invalid message",{message:e});const n=d.getListeners(s.type);n&&n.reduce(((e,t)=>(t(e),e)),o(r))}});return r(s,{postMessage:(e,t=null)=>a.postMessage?e?new Promise(((s,r)=>{const o=i.addTran({resolve:s,reject:r}),n=JSON.stringify({head:{type:e,trid:o},body:{data:t}});a.postMessage(n)})):Promise.reject(n("postMessage: invalid type")):Promise.reject(n("postMessage: undefined native object")),addEventListener:(e,r)=>{if(!e||!r)return t.error("addEventListener: invalid param",{type:e,listener:r});const o=d.getListeners(e)||[];return o.unshift(r),1==o.length&&d.setListeners(e,o),s}})}},574:(e,t,s)=>{const{def:r}=s(682);e.exports=e=>{const t="[logger-level]",s=sessionStorage.getItem(t);return r(((e,t="font-weight:bold")=>{const r=new Set,o=[window,"%c[%s]",t,e];r.add("1");const n=r.has(s)?console.log.bind(...o):e=>e;return r.add("2"),{out:n,warn:r.has(s)?console.warn.bind(...o):e=>e,error:console.error.bind(...o)}}),{break:{get(){}},level:{get:()=>s,set(e){sessionStorage.setItem(t,"0"==e?"":e)}}})}},833:(e,t,s)=>{const{assign:r,camelCase:o,clone:n,entries:a,def:i}=s(682);e.exports=e=>{const t=[],s=(e,a)=>{const i={id:e,view:void 0,onOpen:void 0,onClose:void 0,onReceiver:void 0,target(e){return r(d,{_target:e}),this},open(r){return d.isOpen()?Promise.reject(`popup '${e}' is opened`):new Promise(((e,o)=>{d.set({resolve:e,reject:o}),t.push(this),s.observable&&s.observable(!0),this.onOpen&&this.onOpen(n(r))}))},close(e,r=!0){d.isOpen()&&(s.observable&&s.observable(!1),t.pop(),this.onClose&&this.onClose(n(e)),r?d.resolve(n(e)):d.reject(n(e)),d.returnTarget())}},d={_self:void 0,_remove(){this._self=void 0},set(e){r(this,{_self:e})},isOpen(){return!!this._self},resolve(e){this._self.resolve(n(e)),this._remove()},reject(e){this._self.reject(n(e)),this._remove()},_target:void 0,_focusTarget(e){if(e instanceof HTMLElement)return e.focus(),!0},returnTarget(){const{_target:e}=this;if(!e)return;if(this._focusTarget(e))return;const{currentTarget:t,target:s}=e;this._focusTarget(t||s)}},c=o(e);r(s,{[c]:i}),a&&a(i)};return r(s,{observable:void 0,brodcast(e){a(this).forEach((([,{onReceiver:t}={}])=>{t&&t(n(e))}))},getOpens(){const e=n(t);return i(e,{first:{get:()=>e[0]},last:{get:()=>e[e.length-1]}})}})}},682:e=>{const t=(e,...t)=>Object.assign(e,...t),s=e=>Object.entries(e);e.exports={assign:t,entries:s,isObject:e=>!Array.isArray(e)&&"object"==typeof e,clone:e=>Array.isArray(e)?e.slice(0):"object"==typeof e?t({},e):e,def:(e,t)=>s(t).reduce(((e,[t,s])=>Object.defineProperty(e,t,s)),e),camelCase:(e,t=e.split(/-|_/))=>1==t.length?e:t.map((e=>e.toLowerCase().replace(/^\w/,(e=>e.toUpperCase())))).join("").replace(/^\w/,(e=>e.toLowerCase()))}}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,s),n.exports}(()=>{const{assign:e}=s(682),t=window.br=e=>e&&e();e(t,{ready(e){document.addEventListener("DOMContentLoaded",e)},loadScripts(t){const s="string"==typeof t?[t]:t;return Array.isArray(t)?Promise.reject("loadScripts: 'url' is type error"):Promise.all(s.map((t=>(t=>{const s=e(document.createElement("script"),{src:t});return document.head.appendChild(s),new Promise((e=>{s.onload=s=>e({url:t}),s.onerror=s=>e({url:t,error:!0})}))})(t)))).then(((...e)=>e))}});const r=s(574)(t);e(t,{logger:r});const o=s(699)(t);e(t,{bindHtml:o});const n=s(833)(t);e(t,{popup:n});const a=s(636)(t);e(t,{ajax:a});const i=s(795)(t);e(t,{bridge:i})})()})();